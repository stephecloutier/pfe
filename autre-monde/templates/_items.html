{% load i18n %}
{% load staticfiles %}
{% load price_range from taxed_prices %}
{% load product_first_image from product_images %}
{% load get_thumbnail from product_images %}


{% for product, availability in products %}
<li class="catalogue-products__item">
    <a href="{{ product.get_absolute_url }}" title="Aller sur la page du produit {{ product }}" class="catalogue-products__link product product-thumb">
        <div class="product__img-wrapper">
            <img 
                alt="" 
                class="product__img" 
                width="100" 
                height="100"
                src="{% product_first_image product method="crop" size="100x100" %}"
                srcset="{% product_first_image product method="crop" size="100x100" %} 1x, {% product_first_image product method="crop" size="200x200" %} 2x"
            >
        </div>
        <div class="product__infos">
            <span class="product__title">{{ product }}</span>
            <div class="product__short-desc">{{ product.description|safe|truncatechars:80 }}</div>
            {% comment %} {{product.product_type.product_attributes}} {% endcomment %}
            <div class="product__more-infos">
                <div class="product__more-info product__more-info--time">
                    {% comment %} <svg class="product__more-info__svg" width="15px" height="15px" viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> 
                        <g>
                            <path d="M12.3928571,0 C5.55943878,0 0,5.55943878 0,12.3928571 C0,19.2262755 5.55943878,24.7857143 12.3928571,24.7857143 C19.2262755,24.7857143 24.7857143,19.2262755 24.7857143,12.3928571 C24.7857143,5.55943878 19.2262755,0 12.3928571,0 Z M12.3928571,22.1487245 C7.01352041,22.1487245 2.63673469,17.772449 2.63673469,12.3928571 C2.63673469,7.01326531 7.01352041,2.6369898 12.3928571,2.6369898 C17.7721939,2.6369898 22.1489796,7.01326531 22.1489796,12.3928571 C22.1489796,17.772449 17.7721939,22.1487245 12.3928571,22.1487245 Z" id="Shape"></path>
                            <path d="M18.8515306,12.0102041 L13.2821429,12.0102041 L13.2821429,5.31377551 C13.2821429,4.7502551 12.8252551,4.29336735 12.2617347,4.29336735 C11.6982143,4.29336735 11.2413265,4.7502551 11.2413265,5.31377551 L11.2413265,13.0306122 C11.2413265,13.5941327 11.6982143,14.0510204 12.2617347,14.0510204 L18.8515306,14.0510204 C19.415051,14.0510204 19.8719388,13.5941327 19.8719388,13.0306122 C19.8719388,12.4670918 19.415051,12.0102041 18.8515306,12.0102041 Z" id="Shape"></path>
                        </g>              
                    </svg>
                    <div class="product__more-info__text">
                        15 Ã  30 min.
                    </div> {% endcomment %}
                </div>
                <div class="product__more-info">
                    {% for i in product.price_indicator %}
                    <svg class="single-product__tag__price-indicator__svg" version="1.1" xmlns="http://www.w3.org/2000/svg"  width="15px" height="15px" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 14" style="enable-background:new 0 0 10 14;" xml:space="preserve">
                        <path d="M6.4,2.7c-1.6,0-2.8,1-3.3,2.6h4c0.5,0,0.6,0.4,0.6,0.6c0,0.2-0.1,0.6-0.6,0.6H2.9c0,0.3-0.1,0.6-0.1,0.9
                            c0,0.2,0,0.6,0,0.8h3.4c0.5,0,0.6,0.4,0.6,0.6c0,0.2-0.1,0.6-0.6,0.6H3c0.3,1.5,1.6,2.6,3.3,2.6c0.6,0,1.1-0.1,1.6-0.3
                            c0.1-0.1,0.3-0.1,0.4-0.1c0.4,0,0.6,0.3,0.6,0.7c0,0.2-0.1,0.4-0.5,0.7c-0.6,0.3-1.4,0.5-2.2,0.5c-2.8,0-4.3-1.9-4.8-4H0.9
                            C0.4,9.3,0.3,9,0.3,8.8c0-0.2,0.1-0.6,0.6-0.6h0.4c0-0.2,0-0.5,0-0.8c0-0.3,0-0.7,0-0.9H1c-0.5,0-0.6-0.4-0.6-0.6
                            c0-0.2,0.1-0.6,0.6-0.6h0.6c0.6-2.5,2.5-4,4.9-4c0.6,0,1.4,0.1,1.8,0.3c0.5,0.2,0.6,0.4,0.6,0.7C8.9,2.7,8.6,3,8.2,3
                            C8.1,3,7.9,3,7.8,2.9C7.4,2.8,6.9,2.7,6.4,2.7z"/>
                    </svg>   
                    {% endfor %} 
                </div>
                {% comment %} <div class="product__more-info product__more-info--age">
                    <svg class="product__more-info__svg" width="15" height="12" xmlns="http://www.w3.org/2000/svg">
                        <g>
                            <g transform="translate(4.2 1.2)">
                                <ellipse cx="2.629" cy=".901" rx="1.014" ry="1"/>
                                <path d="M2.983 2.233a2.072 2.072 0 0 0-.776.008C.521 2.417-.026 4.151.128 5.474c.067.572 1.081.578 1.014 0-.057-.482-.033-1.21.256-1.727v1.885c0 .023.002.043.003.065 0 .01-.003.019-.003.029 0 1.496-.003 2.991-.073 4.486-.03.664 1.129.661 1.16 0 .054-1.172.067-2.344.07-3.516.055.003.11.003.165 0a81.38 81.38 0 0 0 .07 3.516c.032.661 1.19.664 1.16 0-.07-1.495-.072-2.99-.072-4.486a.505.505 0 0 0-.018-.13c-.001-.649-.03-1.299-.02-1.948.344.52.376 1.312.316 1.825-.068.578.946.572 1.013 0 .159-1.35-.415-3.13-2.186-3.24z"/>
                            </g>
                            <g transform="translate(9.6)">
                                <ellipse cx="2.592" cy=".984" rx="1.08" ry="1"/>
                                <path d="M3.054 2.593a2.102 2.102 0 0 0-.823.01C.443 2.798-.137 4.723.026 6.19c.072.635 1.147.642 1.075 0-.06-.535-.034-1.342.272-1.916v2.092c0 .025.003.048.004.072-.001.011-.004.02-.004.032 0 1.66-.003 3.32-.077 4.978-.032.737 1.197.735 1.23 0 .057-1.3.072-2.6.075-3.901.058.003.116.003.175 0 .003 1.301.017 2.602.075 3.901.032.735 1.262.737 1.229 0-.074-1.659-.077-3.318-.077-4.978a.585.585 0 0 0-.018-.143c-.002-.72-.032-1.442-.022-2.162.366.576.399 1.455.336 2.025-.073.64 1.003.634 1.074 0 .168-1.498-.44-3.473-2.319-3.597z"/>
                            </g>
                            <g transform="translate(0 3.6)">
                                <ellipse cx="2.1" cy=".7" rx="1" ry="1"/>
                                <path d="M2.375 1.825a1.816 1.816 0 0 0-.64.007C.346 1.968-.106 3.313.022 4.339c.055.444.891.448.836 0C.81 3.965.83 3.401 1.067 3v1.462c0 .018.003.034.004.05 0 .008-.003.015-.003.023 0 1.16-.002 2.32-.06 3.48-.025.515.93.513.956 0a58.6 58.6 0 0 0 .059-2.728c.045.003.09.003.136 0 .003.91.014 1.819.058 2.727.026.514.982.516.956 0-.057-1.16-.06-2.319-.06-3.48a.37.37 0 0 0-.014-.1c-.001-.503-.024-1.007-.017-1.51.285.402.31 1.017.261 1.415-.056.448.781.443.836 0 .13-1.047-.343-2.428-1.804-2.514z"/>
                            </g>
                        </g>
                    </svg>
                    <div class="product__more-info__text">
                        8 ans +
                    </div>
                </div>
                <div class="product__more-info product__more-info--age">
                    <svg class="product__more-info__svg" width="15" height="13" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.605 4.114c-.47 0-.85.386-.85.859s.38.858.85.858a.855.855 0 0 0 .85-.858.855.855 0 0 0-.85-.859zm-12.209 0c-.47 0-.85.386-.85.859s.38.858.85.858c.469 0 .85-.385.85-.858a.855.855 0 0 0-.85-.859zm9.682-1.561c-.697 0-1.263.573-1.263 1.278a1.27 1.27 0 0 0 1.263 1.277c.697 0 1.265-.573 1.265-1.277s-.568-1.278-1.265-1.278zM15 10.323h-1.44v-2.68c0-.46-.134-.887-.349-1.26.127-.037.257-.064.394-.064.768 0 1.395.634 1.395 1.412v2.592zM3.922 2.553c-.698 0-1.265.573-1.265 1.278 0 .704.567 1.277 1.265 1.277A1.27 1.27 0 0 0 5.184 3.83c0-.704-.566-1.278-1.262-1.278zM1.396 6.319c.138 0 .266.027.393.064-.217.373-.349.8-.349 1.26v2.68H0V7.73C0 6.953.627 6.32 1.396 6.32zM7.5 0C6.469 0 5.63.847 5.63 1.889c0 1.041.839 1.89 1.869 1.89s1.87-.849 1.87-1.89C9.368.847 8.528 0 7.498 0zm5.599 11.32h-2.206V7.243c0-.56-.146-1.082-.383-1.55.18-.053.37-.091.569-.091 1.113 0 2.02.914 2.02 2.042v3.676zM4.106 7.243v4.077H1.903V7.644c0-1.126.905-2.042 2.02-2.042.199 0 .387.038.567.092a3.416 3.416 0 0 0-.384 1.55zm.462 5.257h5.861V7.243c0-1.633-1.315-2.962-2.93-2.962-1.617 0-2.93 1.329-2.93 2.962V12.5z" />
                    </svg>
                    <div class="product__more-info__text">
                        2 joueurs
                    </div>
                </div> {% endcomment %}
            </div>
        </div>
    </a>
</li>
{% endfor %}


{% comment %} {% for product, availability in products %}
<div class="col-6 col-lg-3 product-list">
  <a href="{{ product.get_absolute_url }}" class="link--clean">
    <div class="text-center">
      <div>
        <img class="img-responsive"
             src="{% product_first_image product method="crop" size="255x255" %}"
             srcset="{% product_first_image product method="crop" size="255x255" %} 1x, {% product_first_image product method="crop" size="510x510" %} 2x"
             alt="">
        <span class="product-list-item-name" title="{{ product }}">{{ product }}</span>
      </div>

      <div class="panel-footer">
        {% price_range availability.price_range %}

        {% if availability.on_sale %}
          <div class="product-list__sale">
            <svg data-src="{% static "images/sale-bg.svg" %}" />
            <span class="product-list__sale__text"> {% endcomment %}
              {% comment %}Translators: Layout may break if character length is different than four.{% endcomment %}
              {% comment %} {% trans "Sale" context "Sale (discount) label for item in product list" %}
            </span>
          </div>
        {% endif %}
      </div>
    </div>
  </a>
</div>
{% endfor %} {% endcomment %}